const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/connect4-BbXMBGIx.js","assets/index-CspSaxt6.js","assets/index-D3Eed0Yt.css"])))=>i.map(i=>d[i]);
var A=Object.defineProperty;var T=(r,a,e)=>a in r?A(r,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[a]=e;var d=(r,a,e)=>T(r,typeof a!="symbol"?a+"":a,e);import{P as p,e as m,f as N,g as u,h as S,i as I,a as O,_ as g,b as L,d as f}from"./index-CspSaxt6.js";import{c as y}from"./connect4ai-CPyC_wIM.js";import{c as H,a as R}from"./pongLayout-BhObQqDH.js";class M extends p{constructor(e="ai-connect4",n){super(e,n);d(this,"connect4Component",null);d(this,"aiChoices");this.aiChoices=[{id:"easy",label:"BEGINNER AI",desc:"PERFECT FOR BEGINNERS! FACE A GENTLE OPPONENT THAT MAKES RANDOM MOVES AND GIVES YOU PLENTY OF OPPORTUNITIES TO CONNECT FOUR. BUILD YOUR CONFIDENCE AND MASTER THE BASICS OF CONNECT 4 STRATEGY."},{id:"medium",label:"CHALLENGER AI",desc:"A BALANCED CHALLENGE FOR INTERMEDIATE PLAYERS. THIS AI LOOKS AHEAD ONE MOVE AND TRIES TO BLOCK YOUR WINNING ATTEMPTS. TEST YOUR TACTICAL THINKING IN THIS COMPETITIVE MODE."},{id:"hard",label:"EXPERT AI",desc:"FOR SEASONED PLAYERS ONLY! THIS FORMIDABLE OPPONENT ANALYZES MULTIPLE MOVES AHEAD AND SETS UP COMPLEX TRAPS. OUTSMART THE ALGORITHM WITH CLEVER POSITIONING AND STRATEGIC THINKING."},{id:"nightmare",label:"NIGHTMARE AI",desc:"THE ULTIMATE TEST OF STRATEGIC MASTERY. FACE THE PERFECT MACHINE WITH DEEP ANALYSIS AND FLAWLESS EXECUTION. CAN YOU FIND THE ONE WEAKNESS IN THIS SEEMINGLY UNBEATABLE OPPONENT? ONLY LEGENDS HAVE SUCCEEDED."}]}async render(){this.container.innerHTML="",await super.setupHeaderListeners();const e=await super.createSidebar(),n=document.createElement("div");n.className="min-h-screen pt-4 relative overflow-hidden flex flex-row bg-cyber-dark";const s=m(y,"AI Connect4 Background"),c=N("CONNECT 4 VS IA","CHALLENGE THE MACHINE");n.innerHTML=e;const o=document.createElement("main");o.className="flex-1 flex flex-col",o.appendChild(s),o.appendChild(c);const t=document.createElement("div");return t.className="flex-1 px-8 pb-8 pt-4 relative z-10 flex flex-col items-center",t.innerHTML=`
            <div id="ai-choice-container" class="max-w-5xl mx-auto w-full"></div>
            <div id="connect4-container" class="mt-4 max-w-5xl mx-auto cyber-border relative w-full flex flex-col items-center"></div>
        `,o.appendChild(t),n.appendChild(o),this.container.appendChild(n),this.renderAiChoiceCards(),await super.setupSidebarListeners(),this.container}renderAiChoiceCards(){console.log("renderAiChoiceCards called");const e=this.container.querySelector("#ai-choice-container");if(console.log("aiChoiceContainer in render:",!!e),!e){console.error("aiChoiceContainer not found in renderAiChoiceCards!");return}console.log("aiChoiceContainer styles:",{display:getComputedStyle(e).display,visibility:getComputedStyle(e).visibility,opacity:getComputedStyle(e).opacity,height:getComputedStyle(e).height,width:getComputedStyle(e).width});const n=u("flex flex-col items-center justify-center gap-8"),s=S("CHOOSE YOUR OPPONENT"),c=this.aiChoices.map(i=>H(i.label,i.desc,i.id,()=>this.startGame(i.id)));console.log("Created cards:",c.length),console.log("Card elements:",c.map(i=>({tagName:i.tagName,className:i.className})));const o=R(c);n.appendChild(s),n.appendChild(o),e.innerHTML="",e.appendChild(n);const t=e;t.classList.remove("animate-fade-out","hidden"),t.style.display="block",t.style.visibility="visible",t.style.opacity="1",t.style.height="auto",t.style.overflow="visible",console.log("Final aiChoiceContainer children count:",e.children.length),console.log("aiChoiceDiv children count:",n.children.length),console.log("cardGrid children count:",o.children.length),console.log("AI choice cards rendered successfully")}startGame(e){const n=this.container.querySelector("#ai-choice-container");n?(n.classList.add("animate-fade-out"),setTimeout(()=>{n&&(n.innerHTML=""),this.initializeGame(e)},300)):this.initializeGame(e)}async initializeGame(e){const n=this.container.querySelector("#connect4-container");n&&(n.innerHTML="");const s=I(e);n&&n.appendChild(s);const c=O("connect4");n&&n.appendChild(c);const o="YOU",t=e.toUpperCase()+" AI",{default:i}=await g(async()=>{const{default:l}=await import("./connect4-BbXMBGIx.js");return{default:l}},__vite__mapDeps([0,1,2]));this.connect4Component=new i(o,t,{aiType:e,onGameEnd:l=>this.handleGameEnd(l)});const{wrapper:C,inner:E}=L();this.connect4Component&&E.appendChild(this.connect4Component.render()),n&&n.appendChild(C);const h=f([{id:"restart-btn",text:"RESTART",type:"primary",onClick:()=>this.initializeGame(e)},{id:"change-level-btn",text:"CHANGE LEVEL",type:"secondary",onClick:()=>this.showAiChoices()},{id:"dashboard-btn",text:"BACK TO DASHBOARD",type:"secondary",onClick:()=>this.goToDashboard()}]);n&&n.appendChild(h)}handleGameEnd(e){console.log(`Connect4 AI game ended, winner: ${e}`)}showAiChoices(){console.log("showAiChoices called"),this.connect4Component&&(console.log("Destroying existing connect4Component"),this.connect4Component.destroy(),this.connect4Component=null);const e=this.container.querySelector("#connect4-container");e&&(console.log("Clearing connect4Container"),e.innerHTML="");const n=this.container.querySelector("#ai-choice-container");console.log("aiChoiceContainer found:",!!n),n?(console.log("Clearing and recreating AI choice cards"),n.innerHTML="",setTimeout(()=>{this.renderAiChoiceCards()},50)):console.error("aiChoiceContainer not found!")}goToDashboard(){this.router?this.router.navigate("/game/connect4_dashboard"):window.location.href="/game/connect4_dashboard"}}export{M as default};
